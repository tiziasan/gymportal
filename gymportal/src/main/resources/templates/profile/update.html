<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout/layout}">
<body>
<div layout:fragment="content">
	<div class="row">
		<div class="col-12">
			<body class="hold-transition register-page">
			<div class="register-box" style="margin-top: 2%">
				<div class="register-logo">
					<a href="/gymportal"><b th:text="#{common.applicationtitle}">Gym Portal</b></a>
				</div>

				<div class="register-box-body">
					<p class="login-box-msg" th:text="#{profile.title}">Modifica il tuo profilo</p>

					<form autocomplete="off" action="#" th:action="@{/profile/update}" th:object="${user}" method="post" role="form" enctype="multipart/form-data">

						<input type="hidden" th:field="*{id}" />
						<input type="hidden" th:field="*{version}" />

						<div class="form-group has-feedback" th:classappend="${#fields.hasErrors('name')} ? 'has-error' : ''">
							<input id="name" type="text" th:field="*{name}" th:placeholder="#{profile.name}" placeholder="Name" class="form-control" />
							<span class="help-block" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
						</div>
						<div class="form-group has-feedback" th:classappend="${#fields.hasErrors('lastname')} ? 'has-error' : ''">
							<input id="lastname" type="text" th:field="*{lastname}" th:placeholder="#{profile.lastname}" placeholder="Last Name" class="form-control" />
							<span class="help-block" th:if="${#fields.hasErrors('lastname')}" th:errors="*{lastname}"></span>
						</div>
						<div class="form-group has-feedback" th:classappend="${#fields.hasErrors('email')} ? 'has-error' : ''">
							<input id="email" type="text" th:field="*{email}" th:placeholder="#{profile.email}" placeholder="Email" class="form-control" />
							<span class="help-block" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
						</div>
						<div class="form-group has-feedback" th:classappend="${#fields.hasErrors('username')} ? 'has-error' : ''">
							<input id="username" type="text" th:field="*{username}" th:placeholder="#{profile.username}" placeholder="User Name" class="form-control" />
							<span class="help-block" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></span>
						</div>
						<div class="form-group has-feedback" th:classappend="${#fields.hasErrors('password')} ? 'has-error' : ''">
							<input id="password" type="password" th:field="*{password}" th:placeholder="#{profile.password}" placeholder="Password" class="form-control" />
							<span class="help-block" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>
						</div>

						<div class="form-group has-feedback">
							<label>Inserisci la foto del profilo: </label>
							<input type="file" name="image" accept="image/png, image/jpeg" />
						</div>

						<div class="row">
							<!-- /.col -->
							<div class="col-xs-4">
								<button type="submit" class="btn btn-primary btn-block btn-flat" th:text="#{common.edit}">Modifica</button>
							</div>
							<!-- /.col -->
						</div>
						<h2><span class="text-success" th:utext="${successMessage}"></span></h2>

					</form>

				</div>
				<!-- /.form-box -->
			</div>
			<!-- /.register-box -->

			<!-- jQuery 3 -->
			<script src="../../bower_components/jquery/dist/jquery.min.js"></script>
			<!-- Bootstrap 3.3.7 -->
			<script
					src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
			<!-- iCheck -->
			<script src="../../plugins/iCheck/icheck.min.js"></script>
			<script>
				$(function() {
					$('input').iCheck({
						checkboxClass : 'icheckbox_square-blue',
						radioClass : 'iradio_square-blue',
						increaseArea : '20%' /* optional */
					});
				});
			</script>
			</body>


		</div>
	</div>
</div>
</body>
</html>
